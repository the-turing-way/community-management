name: Create Slack Welcome message Management Issue

on:
  schedule:
    - cron: "0 9 1 */2 *"  # At 09:00 UTC on the 1st of each month
  workflow_dispatch:      # Optional manual trigger

jobs:
  create_issue:
    runs-on: ubuntu-latest
    permissions:
      issues: write  # Needed to create issues with the default GITHUB_TOKEN

    steps:
      - name: Slack Welcome Management Issue 
        run: |
          gh issue create \
            --repo ${{ github.repository }} \
            --title "üìÖ Slack Welcome message management issue‚Äî $(date +'%B %Y')" \
            --body "This is your automatic bimonthly issue to write a Welcome message on Slack! üõ†Ô∏è
          Things to do:
          - [ ] Who's owning Slack Welcome message management this month? Assign yourself!  
          - [ ] Check past messages and duplicate format!
          - [ ] Update content accordingly: 
            - [ ] update dates, 
            - [ ] check links 
            - [ ] add an welcomign GIF/image that you like! üòâ
      
      - uses: actions/add-to-project@RELEASE_VERSION
        with:
          # You can target a project in a different organization
          # to the issue
          project-url: https://github.com/orgs/the-turing-way/projects/12
          github-token: ${{ secrets.ADD_TO_PROJECT_PAT }}
         
          
          _This issue was automatically generated by GitHub Actions._" \
           
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
