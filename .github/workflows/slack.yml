
name: Create Slack Monthly Management Issue

on:
  workflow_dispatch:
  schedule:
    - cron: "0 9 1 * *"  # runs on the 1st of every month at 09:00 UTC

jobs:
  create_issue:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      repository-projects: write
      contents: read

    steps:
      - name: Create Slack Monthly Management Issue
        id: create_issue
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
            --repo "${{ github.repository }}" \
            --title "üìÖ Slack planning and management issue‚Äî $(date --date="+2 months" +"%B %Y")" \
            --body "This is your automatic monthly issue to manage TTW Slack! üõ†Ô∏è
          
            Checklist to review and work on this month:
            - [ ] Who's owning slack management this month? Assign yourself!
            - [ ] *Announcements*: post things and events to highlight in this channel 2X a month
              - [ ] WG meetings according to TTW Calendar 
              - [ ] any TTW-related events?
              - [ ] Collab cafes and onboarding dates!
            ")
       
    
    
