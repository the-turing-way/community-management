name: Create Monthly Slack Management Issue

on:
  schedule:
    - cron: "0 9 1 * *"  # At 09:00 UTC on the 1st of each month
  workflow_dispatch:      # Optional manual trigger

jobs:
  create_issue:
    runs-on: ubuntu-latest
    permissions:
      issues: write  # Needed to create issues with the default GITHUB_TOKEN

    steps:
      - name: Slack Monthly Management Issue 
        run: |
          gh issue create \
            --repo ${{ github.repository }} \
            --title "üìÖ Slack planning and management issue‚Äî $(date +%Y-%m-1) next month" +"%B %Y" \
            --body "This is your automatic monthly issue to manage TTW Slack workspage! üõ†Ô∏è
          Checklist to review this month:
          - [ ] Who's owning slack management this month? Assign yourself!  
          - [ ] *Announcements*: post things and events to highlight in this channel 2X a month (traditionally it was weekly, but unless there is a need, I'd say let's trial for twice a month for now)
              - [ ] WG meetings according to TTW Calendar 
              - [ ] any TTW-related events? Fireside chat? 
              - [ ] Collab cafes and onboarding dates! 
          
          
          
          _This issue was automatically generated by GitHub Actions._" \
           
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
